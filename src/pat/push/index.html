<!DOCTYPE html>
<html>
    <head>
        <title>Push pattern</title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="/style/common.css" />
        <script src="/bundle.min.js"></script>
        <!--meta name="patterns-push-url" content="ws://push.quaivecloud.com/ws" /-->
        <meta name="patterns-push-url" content="ws://localhost:15674/ws" />
        <meta name="patterns-push-exchange" content="patternslib" />
        <meta name="patterns-push-login" content="guest" />
        <meta name="patterns-push-password" content="guest" />
        <meta name="patterns-push-filter" content="push_marker" />
    </head>

    <body>
        <h1>Push examples</h1>

        <p>
            The examples here listen to <code>push</code> events on the body which are thrown by the <code>push_kit</code> service.<br />
            The <code>push_kit</code> service subscribes to a topic/filter on an exchange and address as configured in the meta tags.<br />
            In this example this is: <code>ws://localhost:15674/ws/exchange/patternslib</code> and a topic filter of <code>push_marker</code>.<br />
            If a message is sent through rabbitmq on the "patternslib" exchange on the <code>push_marker</code> topic containing the message "message_counter" or "message_counter2" the messages badge below will be updated.
        </p>

        <h2>push-id: message_counter</h2>
        <div
            class="pat-push"
            data-pat-push="push-id: message_counter; url: index-push-content.html"
        >
            Messages <sup class="counter digit-1">1</sup>
        </div>

        <h2>push-id: message_counter2</h2>
        <div
            class="pat-push"
            data-pat-push="push-id: message_counter2; url: index-push-content.html"
        >
            messages <sup class="counter digit-1">1</sup>
        </div>

        <h2>push-id: message_incoming; mode: append</h2>
        <div>
            If a message is sent through RabbitMQ on the "patternslib" exchange on the
            push_marker topic containing the message "message_incoming" the list below
            will be updated.
            <ul
                class="pat-push"
                data-pat-push="push-id: message_incoming; url: index-push-messages.html; mode: append"
            >
                <li>Old message</li>
            </ul>
        </div>
    </body>
</html>
